module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},88203,a=>{"use strict";var b=a.i(18740);a.i(72029);var c=a.i(50455);a.i(69387);var d=a.i(60574);async function e(a,c,e){try{let f=(0,d.doc)(b.firestore,"users",a);(await (0,d.getDoc)(f)).exists()?await (0,d.updateDoc)(f,{lastLogin:(0,d.serverTimestamp)()}):(await (0,d.setDoc)(f,{email:c,displayName:e||c.split("@")[0],photoURL:null,coins:0,stats:{totalGames:0,totalQuestions:0,correctAnswers:0,accuracy:0,highestScore:0},createdAt:(0,d.serverTimestamp)(),lastLogin:(0,d.serverTimestamp)()}),console.log("User profile created:",a))}catch(a){console.error("Error creating user profile:",a)}}async function f(a,d,e,f){try{let g=(0,c.ref)(b.database,`scores/${d}/${a}`),h=await (0,c.get)(g);(!h.exists()||h.val().score<e)&&(await (0,c.set)(g,{score:e,username:f,timestamp:Date.now()}),console.log("Score saved:",{category:d,score:e}))}catch(a){console.error("Error saving score:",a)}}async function g(a,c,e,f,g,h){try{let i=(0,d.collection)(b.firestore,"gameHistory");await (0,d.addDoc)(i,{userId:a,category:c,score:e,totalQuestions:f,correctAnswers:g,questions:h,timestamp:(0,d.serverTimestamp)()}),console.log("Game history saved")}catch(a){console.error("Error saving game history:",a)}}async function h(a,c,e,f){try{let g=(0,d.doc)(b.firestore,"users",a),h=await (0,d.getDoc)(g);if(h.exists()){let a=h.data().stats||{totalGames:0,totalQuestions:0,correctAnswers:0,accuracy:0,highestScore:0},b=a.totalGames+1,i=a.totalQuestions+c,j=a.correctAnswers+e,k=Math.round(j/i*100),l=Math.max(a.highestScore,f);await (0,d.updateDoc)(g,{stats:{totalGames:b,totalQuestions:i,correctAnswers:j,accuracy:k,highestScore:l},coins:(h.data().coins||0)+5*e}),console.log("User stats updated")}}catch(a){console.error("Error updating user stats:",a)}}a.s(["createUserProfile",()=>e,"saveGameHistory",()=>g,"saveScore",()=>f,"updateUserStats",()=>h])},16997,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(18740);a.i(30485);var f=a.i(31052),g=a.i(88203);let h={"genel-kultur":{name:"Genel KÃ¼ltÃ¼r",icon:"ðŸŒ"},tarih:{name:"Tarih",icon:"ðŸ“œ"},cografya:{name:"CoÄŸrafya",icon:"ðŸ—ºï¸"},bilim:{name:"Bilim",icon:"ðŸ”¬"},edebiyat:{name:"Edebiyat",icon:"ðŸ“–"},spor:{name:"Spor",icon:"âš½"},muzik:{name:"MÃ¼zik",icon:"ðŸŽµ"},teknoloji:{name:"Teknoloji",icon:"ðŸ’»"}};function i(){let a=(0,d.useRouter)(),i=(0,d.useSearchParams)().get("category")||"genel-kultur",[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(30),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(0);(0,c.useEffect)(()=>{let b=(0,f.onAuthStateChanged)(e.auth,b=>{b?(A(b),D()):a.push("/login")});return()=>b()},[i]);let D=async()=>{try{console.log("Loading questions for category:",i);let a=await fetch("/languages/tr/questions.json");if(!a.ok)throw Error("Questions could not be loaded");let b=await a.json();console.log("Questions data loaded:",Object.keys(b));let c=[],d={"genel-kultur":"Genel KÃ¼ltÃ¼r",tarih:"Tarih",cografya:"CoÄŸrafya",bilim:"Bilim",edebiyat:"Edebiyat",spor:"Spor",muzik:"MÃ¼zik",teknoloji:"Teknoloji"}[i]||"Genel KÃ¼ltÃ¼r";if(console.log("Looking for category:",d),b[d]&&(c=b[d]),console.log("Found questions:",c.length),0===c.length){console.error("No questions found for category:",d),alert("Bu kategori iÃ§in soru bulunamadÄ±!"),y(!1);return}let e=c.map(a=>{let b=a.options.indexOf(a.correctAnswer);return{...a,correct:b>=0?b:0}});k(e.sort(()=>Math.random()-.5).slice(0,10)),y(!1)}catch(a){console.error("Error loading questions:",a),alert("Sorular yÃ¼klenirken hata oluÅŸtu!"),y(!1)}},E=async()=>{if(s(!0),z){let a=z.displayName||z.email||"Anonim",b=h[i]?.name||"Genel KÃ¼ltÃ¼r";await Promise.all([(0,g.saveScore)(z.uid,b,n,a),(0,g.saveGameHistory)(z.uid,b,n,j.length,B,j),(0,g.updateUserStats)(z.uid,j.length,B,n)]),console.log("Game saved to Firebase:",{category:b,score:n,correctAnswers:B})}};if(x)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white text-2xl font-bold",children:"YÃ¼kleniyor..."});if(r)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),(0,b.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Oyun Bitti!"}),(0,b.jsxs)("div",{className:"text-5xl font-bold text-primary mb-6",children:[n," Puan"]}),(0,b.jsxs)("p",{className:"text-gray-600 mb-2",children:[j.length," sorudan ",B," doÄŸru"]}),(0,b.jsxs)("p",{className:"text-gray-500 mb-4",children:["BaÅŸarÄ± OranÄ±: %",Math.round(B/j.length*100)]}),(0,b.jsx)("p",{className:"text-sm text-green-600 mb-8",children:"âœ“ Skorunuz Firebase'e kaydedildi"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-primary text-white font-semibold py-3 rounded-lg",children:"Tekrar"}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"flex-1 bg-gray-200 text-gray-800 font-semibold py-3 rounded-lg",children:"Ana Sayfa"})]})]})});let F=j[l],G=h[i];return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,b.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-4 text-white",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:G?.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold",children:G?.name}),(0,b.jsxs)("p",{className:"text-sm opacity-80",children:["Soru ",l+1,"/",j.length]})]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold",children:[p,"s"]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-6",children:F?.question}),(0,b.jsx)("div",{className:"space-y-3",children:F?.options.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{null!==t||v||(u(c),w(!0),c===j[l].correct&&(o(n+10),C(B+1)),setTimeout(()=>{l+1>=j.length?E():(m(l+1),u(null),w(!1),q(30))},2e3))},disabled:v,className:`w-full p-4 rounded-xl text-left font-medium transition ${v&&c===F.correct?"bg-green-500 text-white":v&&t===c&&c!==F.correct?"bg-red-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[String.fromCharCode(65+c),") ",a]},c))}),(0,b.jsxs)("div",{className:"mt-6 flex justify-between text-sm",children:[(0,b.jsxs)("div",{children:["Puan: ",(0,b.jsx)("span",{className:"font-bold",children:n})]}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"text-gray-500",children:"Ã‡Ä±kÄ±ÅŸ"})]})]})]})})}function j(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white text-2xl",children:"YÃ¼kleniyor..."}),children:(0,b.jsx)(i,{})})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4c2552c1._.js.map